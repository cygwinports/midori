--- origsrc/midori-0.2.6/extensions/wscript_build	2010-05-24 12:34:44.000000000 -0500
+++ src/midori-0.2.6/extensions/wscript_build	2010-05-24 23:28:06.205608500 -0500
@@ -36,5 +36,4 @@ for extension in extensions:
     obj.vapi_dirs = '../midori'
     obj.packages = 'glib-2.0 gio-2.0 gtk+-2.0 libsoup-2.4 webkit-1.0 midori'
     obj.install_path = '${LIBDIR}/midori'
-    if bld.env['platform'] == 'win32':
-        obj.uselib_local = 'midori'
+    obj.uselib_local = 'midori-core'
--- origsrc/midori-0.2.6/midori/wscript_build	2010-05-24 12:34:44.000000000 -0500
+++ src/midori-0.2.6/midori/wscript_build	2010-05-24 23:37:20.705324000 -0500
@@ -9,13 +9,12 @@ libs = 'M UNIQUE LIBSOUP GMODULE GTHREAD
        'LIBNOTIFY WEBKIT LIBXML X11 XSS WS2_32 OPENSSL HILDON HILDON_FM'
 
 if progressive or Options.commands['check']:
-    obj = bld.new_task_gen ('cc', 'staticlib')
+    obj = bld.new_task_gen ('cc', 'shlib')
     obj.target = 'midori-core'
     obj.includes = '.. ../katze .'
     obj.find_sources_in_dirs ('../katze . ../panels', excludes=['main.c'])
     obj.uselib = libs
     obj.add_marshal_file ('marshal.list', 'midori_cclosure_marshal')
-    obj.install_path = None
     bld.add_group ()
 
 if progressive:
